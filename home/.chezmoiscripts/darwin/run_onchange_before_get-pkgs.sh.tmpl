{{ if eq .chezmoi.os "darwin" -}}

{{ $brews := list
  "curl"
  "fish"
  "gcc"
  "gh"
  "gnu-tar"
  "gnupg"
  "jq"
  "node"
  "pinentry-mac"
  "rtx"
  "sheldon"
  "wget"
  "zoxide" -}}

{{ $casks := list
  "iterm2" -}}

#!/usr/bin/env bash
set -Eeuo pipefail

brew bundle --no-lock --file=/dev/stdin <<EOF
{{ range ($brews | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}
{{ range ($casks | sortAlpha | uniq) -}}
cask "{{ . }}"
{{ end -}}
EOF

{{ end -}}
